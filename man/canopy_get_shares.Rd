% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/canopy.R
\name{canopy_get_shares}
\alias{canopy_get_shares}
\title{Compute canopy shares by census geography for Montreal CMA}
\usage{
canopy_get_shares(
  canopy,
  levels = c("DB", "DA", "CT", "CSD", "CMA"),
  chunk_size = 200L
)
}
\arguments{
\item{canopy}{SpatRaster with canopy classes coded 1–5
(where 5 corresponds to "no canopy / other / excluded").}

\item{levels}{Character vector of census levels. Any of:
"DB", "DA", "CT", "CSD", "CMA".}

\item{chunk_size}{Integer. Number of polygons per batch in
\code{terra::extract()} for levels other than CMA.
Smaller values use less memory but are slower.}
}
\value{
Named list of sf objects, one per requested level, each including:
\code{id}, the four canopy share variables, and \code{geometry}.
}
\description{
Uses a pre-built canopy SpatRaster (already mosaicked) and returns,
for each requested census level, the share of area in canopy classes 1–4.
}
\details{
Canopy classes are:
1 = mineral low  (NDVI < 0.3,  MNH < 3 m)
2 = mineral high (NDVI < 0.3,  MNH >= 3 m)
3 = veg low      (NDVI >= 0.3, MNH < 3 m)
4 = veg high     (NDVI >= 0.3, MNH >= 3 m) = tree canopy
}
